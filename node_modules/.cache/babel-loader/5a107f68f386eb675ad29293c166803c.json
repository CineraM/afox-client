{"ast":null,"code":"// import React, { useState } from 'react'\n// import Anicontent from '../components/anicontent/Anicontent'\n// import Footer from '../components/footer/Footer'\n// import Navbar from '../components/navbar/Navbar'\n// import List from \"../components/list/List\"\n// import \"./anime.scss\"\n// import Aniheader from '../components/aniheader/Aniheader'\n// import { useEffect } from \"react\"\n// import jwt from 'jwt-decode'\n// import { useNavigate } from \"react-router-dom\"\n// export default function Anime() {\n//   let navigate = useNavigate();\n//   const token = localStorage.getItem('token')\n//   const admin_token = localStorage.getItem('admin_token')\n//   const [mylist, setMylist] = useState([])\n//   const [user, setUser] = useState(localStorage.getItem('user_email'))\n//   const [userGenre, setUserGenre] = useState('')\n//   async function get_user_genre() {    \n//     try {\n//       const response = await fetch('http://localhost:1337/api/get_user_likes_genre', {\n//         method: 'POST',\n//         headers: {\n//             'Content-Type': 'application/json',\n//         },\n//         body: JSON.stringify({\n//             user,\n//         }),\n//     })\n//     const genre = await response.json()\n//     return genre\n//    } catch (error) {console.error(error);}\n//   }\n//   async function fetchList(list) \n//   {\n//       try {\n//           const response = await fetch(`http://localhost:1337/api/${list}`, {\n//               method: 'GET'\n//           });\n//           const mylist = await response;\n//           return mylist;\n//       } \n//       catch (error) {console.error(error);}\n//   }\n// \tuseEffect(() => {\n//     document.title = \"Ani-Fox\"\n//     window.scrollTo(0, 0) \n//     async function getLists() \n//     {   \n//       const tempList = await fetchList(\"action\");\n//       setMylist(tempList);\n//       // const usrGen = await get_user_genre()\n//       // setUserGenre(usrGen)\n//     }\n//     getLists()\n//     // admin validation\n//     if (admin_token) {\n//       // if admin user, remove user token\n//       localStorage.removeItem('token')\n//       navigate('/admin_dashboard')\n//     }\n//     if (token) {\n//       const user = jwt(token)\n//       if (!user) {\n//         localStorage.removeItem('token')\n//         navigate('/login')\n//       }\n//     }\n//     else\n//     {\n//       localStorage.removeItem('token')\n//       navigate('/login')\n//     }\n//     // eslint-disable-next-line\n// \t}, [])\n//   return (\n//     <div className=\"anime\">\n//         <Navbar/>\n//         <Aniheader aniId={localStorage.getItem('LS_ID')}/>\n//         <br />\n//         <Anicontent aniId={localStorage.getItem('LS_ID')}/>\n//         <List title=\"Recommended\" data={mylist} isInAnime={true}/>\n//         <br />\n//         <Footer/>\n//     </div>\n//   )\n// }","map":{"version":3,"names":[],"sources":["C:/Users/Ciner/Documents/GitHub/Streaming-Site/WebApp/src/anime/Anime.jsx"],"sourcesContent":["// import React, { useState } from 'react'\r\n// import Anicontent from '../components/anicontent/Anicontent'\r\n// import Footer from '../components/footer/Footer'\r\n// import Navbar from '../components/navbar/Navbar'\r\n// import List from \"../components/list/List\"\r\n// import \"./anime.scss\"\r\n// import Aniheader from '../components/aniheader/Aniheader'\r\n// import { useEffect } from \"react\"\r\n// import jwt from 'jwt-decode'\r\n// import { useNavigate } from \"react-router-dom\"\r\n\r\n\r\n// export default function Anime() {\r\n\r\n//   let navigate = useNavigate();\r\n//   const token = localStorage.getItem('token')\r\n//   const admin_token = localStorage.getItem('admin_token')\r\n//   const [mylist, setMylist] = useState([])\r\n\r\n//   const [user, setUser] = useState(localStorage.getItem('user_email'))\r\n//   const [userGenre, setUserGenre] = useState('')\r\n\r\n//   async function get_user_genre() {    \r\n//     try {\r\n//       const response = await fetch('http://localhost:1337/api/get_user_likes_genre', {\r\n//         method: 'POST',\r\n//         headers: {\r\n//             'Content-Type': 'application/json',\r\n//         },\r\n//         body: JSON.stringify({\r\n//             user,\r\n//         }),\r\n//     })\r\n//     const genre = await response.json()\r\n//     return genre\r\n//    } catch (error) {console.error(error);}\r\n//   }\r\n\r\n//   async function fetchList(list) \r\n//   {\r\n//       try {\r\n//           const response = await fetch(`http://localhost:1337/api/${list}`, {\r\n//               method: 'GET'\r\n//           });\r\n//           const mylist = await response;\r\n//           return mylist;\r\n//       } \r\n//       catch (error) {console.error(error);}\r\n//   }\r\n  \r\n// \tuseEffect(() => {\r\n//     document.title = \"Ani-Fox\"\r\n//     window.scrollTo(0, 0) \r\n//     async function getLists() \r\n//     {   \r\n//       const tempList = await fetchList(\"action\");\r\n//       setMylist(tempList);\r\n\r\n//       // const usrGen = await get_user_genre()\r\n//       // setUserGenre(usrGen)\r\n//     }\r\n\r\n//     getLists()\r\n\r\n//     // admin validation\r\n//     if (admin_token) {\r\n//       // if admin user, remove user token\r\n//       localStorage.removeItem('token')\r\n//       navigate('/admin_dashboard')\r\n//     }\r\n    \r\n//     if (token) {\r\n//       const user = jwt(token)\r\n//       if (!user) {\r\n//         localStorage.removeItem('token')\r\n//         navigate('/login')\r\n//       }\r\n//     }\r\n//     else\r\n//     {\r\n//       localStorage.removeItem('token')\r\n//       navigate('/login')\r\n//     }\r\n//     // eslint-disable-next-line\r\n// \t}, [])\r\n\r\n//   return (\r\n//     <div className=\"anime\">\r\n\r\n//         <Navbar/>\r\n//         <Aniheader aniId={localStorage.getItem('LS_ID')}/>\r\n//         <br />\r\n//         <Anicontent aniId={localStorage.getItem('LS_ID')}/>\r\n\r\n\r\n//         <List title=\"Recommended\" data={mylist} isInAnime={true}/>\r\n        \r\n//         <br />\r\n//         <Footer/>\r\n       \r\n//     </div>\r\n//   )\r\n// }\r\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAGA;AAEA;AACA;AAEA;AACA;AACA"},"metadata":{},"sourceType":"module"}